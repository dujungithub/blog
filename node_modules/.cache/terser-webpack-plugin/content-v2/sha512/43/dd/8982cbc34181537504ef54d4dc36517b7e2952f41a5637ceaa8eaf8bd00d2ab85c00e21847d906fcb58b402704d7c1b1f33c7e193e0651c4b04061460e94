{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[67],{420:function(n,t,e){\"use strict\";e.r(t);var i=e(43),a=Object(i.a)({},(function(){var n=this.$createElement,t=this._self._c||n;return t(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":this.$parent.slotKey}},[t(\"div\",{staticClass:\"language- extra-class\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[t(\"code\",[this._v('<!doctype html>\\n<html>\\n<head>\\n\\t<meta charset=\"utf-8\">\\n\\t<meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\\n\\t<meta name=\"viewport\" content=\"initial-scale=1.0, user-scalable=no, width=device-width\">\\n\\t<title>周边检索</title>\\n\\t<link rel=\"stylesheet\" href=\"https://cache.amap.com/lbs/static/main1119.css\"/>\\n\\t<script type=\"text/javascript\" src=\"statics/js/jquery.min.js\"><\\/script>\\n\\t<style type=\"text/css\">\\n\\t\\t#panel {\\n\\t\\t\\tposition: fixed;\\n\\t\\t\\tbackground-color: white;\\n\\t\\t\\tmax-height: 90%;\\n\\t\\t\\toverflow-y: auto;\\n\\t\\t\\ttop: 10px;\\n\\t\\t\\tright: 10px;\\n\\t\\t\\twidth: 280px;\\n\\t\\t\\tborder-bottom: solid 1px silver;\\n\\t\\t}\\n\\t\\t.amap-icon img{width:100%;}\\n\\t\\t.amap-marker-content{\\n\\t\\t\\tdisplay:none;\\n\\t\\t}\\n\\t\\t.t_walking{\\n\\t\\t\\tfloat: right;\\n\\t\\t\\twidth: 80px;\\n\\t\\t\\theight: 35px;\\n\\t\\t\\tborder: none;\\n\\t\\t\\tbackground: #318ff4;\\n\\t\\t\\tcolor: #fff;\\n\\t\\t\\tborder-radius: 4px;\\n\\t\\t}\\n\\t\\t#thisArea{\\n\\t\\t\\tposition: fixed;\\n\\t\\t\\tbottom: 40px;\\n\\t\\t\\tleft: 35%;\\n\\t\\t\\twidth: 30%;\\n\\t\\t\\theight: 35px;\\n\\t\\t\\tborder: none;\\n\\t\\t\\tbackground: #318ff4;\\n\\t\\t\\tcolor: #fff;\\n\\t\\t\\tborder-radius: 4px;\\n\\t\\t}\\n\\t\\t#thisDw{\\n\\t\\t\\tposition: fixed;\\n\\t\\t\\tbottom: 40px;\\n\\t\\t\\tleft: 5%;\\n\\t\\t\\twidth: 35px;\\n\\t\\t\\theight: 35px;\\n\\t\\t\\tborder: none;\\n\\t\\t\\tcolor: #fff;\\n\\t\\t\\tborder-radius: 4px;\\n\\t\\t}\\n\\t</style>\\n\\t<script type=\"text/javascript\" src=\"https://webapi.amap.com/maps?v=1.4.14&key=c1668fff4493f18c93cf1fb054442b60\"><\\/script>\\n\\t<script type=\"text/javascript\" src=\"https://cache.amap.com/lbs/static/addToolbar.js\"><\\/script>\\n</head>\\n<body>\\n<div id=\"container\"></div>\\n<div id=\"panel\" style=\"display: none;\"></div>\\n<button id=\"thisDw\"><svg class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"5112\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"100%\" height=\"100%\" data-spm-anchor-id=\"0.0.0.i0.61fa611fhGGW9w\"><defs><style type=\"text/css\"></style></defs><path d=\"M639.297829 382.7712c-17.2032-17.173943-37.829486-30.954057-60.328229-40.257829-22.498743-9.303771-46.811429-14.1312-71.153371-14.1312-24.341943 0-48.683886 4.827429-71.153371 14.1312-22.498743 9.303771-43.125029 23.054629-60.328229 40.257829-17.2032 17.173943-30.983314 37.800229-40.316343 60.240457-9.303771 22.469486-14.160457 46.752914-14.160457 71.0656 0 24.312686 4.827429 48.596114 14.160457 71.0656 9.303771 22.469486 23.083886 43.066514 40.316343 60.240457 17.2032 17.173943 37.829486 30.954057 60.328229 40.257829 22.469486 9.303771 46.811429 14.1312 71.153371 14.1312 24.341943 0 48.654629-4.827429 71.153371-14.1312 22.469486-9.303771 43.125029-23.054629 60.328229-40.257829 17.2032-17.173943 30.983314-37.770971 40.287086-60.240457 9.303771-22.440229 14.160457-46.752914 14.160457-71.0656 0-24.312686-4.856686-48.596114-14.160457-71.0656C670.3104 420.571429 656.530286 399.9744 639.297829 382.7712zM918.557257 467.529143c-16.647314-199.533714-162.962286-348.3648-362.788571-362.203429L555.768686 0l-85.4016 0 0 106.7008C276.128914 124.693943 122.090057 272.149943 105.442743 467.529143L0 467.529143l0 87.127771 105.442743 0c16.647314 195.3792 168.842971 343.2448 363.081143 362.642286L468.523886 1024l87.215543 0 0-105.325714c199.797029-13.867886 346.141257-164.512914 362.788571-364.046629L1024 554.627657 1024 467.529143 918.557257 467.529143zM512 847.082057c-184.5248 0-334.848-151.464229-334.848-334.379886 0-182.915657 151.698286-336.223086 334.848-336.223086 184.554057 0 334.848 153.307429 334.848 336.223086C846.848 695.588571 696.5248 847.082057 512 847.082057z\" p-id=\"5113\"></path></svg></button>\\n<button id=\"thisArea\">在此区域检索</button>\\n\\n<script type=\"text/javascript\">\\n    var map = new AMap.Map(\"container\", {\\n        resizeEnable: true,//是否监控地图容器尺寸变化\\n        zoom: 15,\\n        //center: [116.397428, 39.90923],//设置地图中心点坐标\\n\\n    });\\n    var cpoint = [116.30007397,39.92588908]; //用户当前位置、中心点坐标\\n    // 实例化点标记addMarker();\\n    function addMarker() {\\n        console.log(\"addMarker\");\\n        var icon = new AMap.Icon({\\n            image: \"statics/images/t_dw.png\",\\n            size: new AMap.Size(36, 36)\\n        });\\n        var marker = new AMap.Marker({\\n            icon: icon,\\n            position: cpoint,\\n            offset: new AMap.Pixel(-13, -30)\\n        });\\n        marker.setTop({isTop:true});\\n        marker.setMap(map);\\n    }\\n\\n    //显示当前用户位置\\n    addMarker();\\n\\n\\n\\n\\n    var placeSearch ;\\n\\tAMap.service([\"AMap.PlaceSearch\"], function() {\\n        //构造地点查询类\\n        placeSearch = new AMap.PlaceSearch({\\n            type:\\'汽车服务|汽车销售|汽车维修|摩托车服务|餐饮服务|购物服务|生活服务|体育休闲服务|医疗保健服务|住宿服务|风景名胜|商务住宅|政府机构及社会团体|科教文化服务| 交通设施服务|金融保险服务|公司企业|道路附属设施|地名地址信息|公共设施\\',\\n            pageSize:10,// 单页显示结果条数\\n            pageIndex: 1, // 页码\\n            city: \"北京\", // 兴趣点城市\\n            citylimit: true,  //是否强制限制在设置的城市内搜索\\n            map: map, // 展现结果的地图实例\\n            //panel: \"panel\", // 结果列表将在此容器中进行展示。\\n            autoFitView: false,// 是否自动调整地图视野使绘制的 Marker点都处于视口的可见范围\\n            extensions:\\'all\\',//返回基本+详细信息\\n        });\\n    });\\n    //信息窗体\\n    var infoWindow = new AMap.InfoWindow({\\n\\t\\toffset: new AMap.Pixel(0, -30)\\n        //content: info.join(\"\")  //使用默认信息窗体框样式，显示信息内容\\n    });\\n    //移动处理\\n    var logMapinfoFn = function (){\\n        var zoom = map.getZoom(); //获取当前地图级别\\n        var center = map.getCenter(); //获取当前地图中心点\\n        console.log(zoom,center,center.toString());\\n\\n        map.clearMap();//使用clearMap方法删除所有覆盖物\\n    };\\n\\tvar markers = [];\\n    function showMap(cpoint){\\n        console.log(cpoint);\\n        //清理点标记及数据\\n        //clearMapinfoFn();\\n        placeSearch.clear();\\n        map.remove(markers);\\n        map.clearMap();//使用clearMap方法删除所有覆盖物\\n        //addMarker();\\n        placeSearch.searchNearBy(\\'彩票\\', cpoint, 2000, function(status, result) {\\n            // 查询成功时，result即对应匹配的POI信息\\n            console.log(result)\\n            var pois = result.poiList.pois;\\n            for(var i = 0; i < pois.length; i++){\\n                var poi = pois[i];\\n                marker = [];\\n                var icon = new AMap.Icon({\\n                    image: \"statics/images/shop.png\",\\n                    size: new AMap.Size(36, 36)\\n                });\\n                marker[i] = new AMap.Marker({\\n                    icon:icon,\\n                    position: poi.location,   // 经纬度对象，也可以是经纬度构成的一维数组[116.39, 39.9]\\n                    title: poi.name,\\n                    offset: new AMap.Pixel(-18, -34),\\n                    clickable: true,\\n                    topWhenClick:true,\\n                    bubble:true,\\n                    visible:true,\\n                    map: map,\\n                    zIndex:1000\\n                });\\n                marker[i].setTop({isTop:true});\\n                // 将创建的点标记添加到已有的地图实例：\\n                map.add(marker[i]);\\n\\n\\n\\t\\t\\t\\t//绑定信息窗体\\n\\n                var info = [];\\n                if(poi.tel && poi.tel != \"\"){\\n                    info.push(\"<div class=\\'input-card content-window-card\\'>\");\\n                    info.push(\"<div style=\\\\\"padding:7px 0px 0px 0px;\\\\\"><h4>小秘书</h4>\");\\n                    info.push(\"<p class=\\'input-item\\'>电话 : \"+poi.tel+\"   邮编 : \"+poi.adcode+\"</p>\");\\n                    info.push(\"<p class=\\'input-item\\'>地址 :\"+poi.cityname+poi.adname+poi.address+\"</p></div>\");\\n                    info.push(\"<button class=\\'t_walking\\' onclick=\\'t_walking\\'>步行导航</button></div>\");\\n\\t\\t\\t\\t}else{\\n                    info.push(\"<div class=\\'input-card content-window-card\\'>\");\\n                    info.push(\"<div style=\\\\\"padding:7px 0px 0px 0px;\\\\\"><h4>小秘书</h4>\");\\n                    info.push(\"<p class=\\'input-item\\'>邮编 : \"+poi.adcode+\"</p>\");\\n                    info.push(\"<p class=\\'input-item\\'>地址 :\"+poi.cityname+poi.adname+poi.address+\"</p></div>\");\\n                    info.push(\"<button class=\\'t_walking\\' onclick=\\'t_walking\\'>步行导航</button></div>\");\\n\\t\\t\\t\\t}\\n                marker[i].content = info.join(\"\")//\\t\\'我是第\\' + (i + 1) + \\'个Marker\\';\\n                marker[i].on(\\'click\\', openInfo);\\n\\n\\n                //infoWindow.setContent(info.join(\"\"));\\n\\n                //先存进去，再清理点标记\\n                markers.push(marker[i])\\n            }\\n            //最后增加个人位置\\n            addMarker()\\n            map.setFitView();\\n        });\\n\\n    }\\n    showMap(cpoint)\\n\\n    //logMapinfo();\\n\\n\\n    function mapMoveend(){\\n        //var zoom = map.getZoom(); //获取当前地图级别\\n        map.setZoom(15);\\n        console.log(map.getZoom())\\n        var center = map.getCenter(); //获取当前地图级别\\n        var lnglat = [center.lng,center.lat];\\n        showMap(lnglat)\\n        console.log(lnglat,\\'地图移动结束\\')\\n    }\\n    function backDw(){\\n        console.log(cpoint);\\n        map.setCenter(cpoint);\\n    }\\n    // 事件绑定\\n    document.getElementById(\"thisArea\").onclick = mapMoveend;\\n    document.getElementById(\"thisDw\").onclick = backDw;\\n\\n\\n\\n\\n\\n\\n    //在指定位置打开信息窗体\\n    function openInfo(e) {\\n\\n        //infoWindow.setContent(e.target.content);\\n        //infoWindow.open(map, map.getCenter());\\n\\t\\tconsole.log(e.target.content);\\n\\n\\n\\n        infoWindow.setContent(e.target.content);\\n        infoWindow.open(map, e.target.getPosition());\\n        console.log();\\n\\t\\tvar endP = e.target.getPosition();\\n\\n\\t\\t//测试内容是否渲染上\\n\\t\\tvar idom = 0,timeout50;\\n\\t\\tfunction domtest(){\\n            idom++;\\n            if(idom < 10){\\n\\t\\t\\t\\tif($(\".t_walking\") && $(\".t_walking\").html() != \"\" && $(\".t_walking\").html() != undefined){\\n\\t\\t\\t\\t\\tconsole.log($(\".t_walking\").html());\\n                    $(\".t_walking\").on(\"click\",function(){\\n                        infoWindow.close();\\n                        //通过信息窗体进入路线导航（默认步行）\\n                        gowalking(cpoint,endP);\\n                    });\\n                    clearTimeout(timeout50);\\n\\t\\t\\t\\t}else{\\n                    timeout50 = setTimeout(function(){domtest();},50)\\n\\t\\t\\t\\t}\\n            }\\n\\t\\t}\\n        domtest();\\n\\t\\t//setTimeout(function(){console.log($(\".t_walking\").html());},100)\\n\\n\\n\\n    }\\n    function t_walking(){\\n        console.log(new Date());\\n\\t}\\n    //openInfo()\\n    //infoWindow.close()\\n\\n\\n\\t//步行路线规划\\n    //步行导航\\n    var walking;\\n    AMap.service([\"AMap.Walking\"], function() {\\n        walking = new AMap.Walking({\\n            map: map,\\n            //panel: \"panel\"\\n        });\\n    });\\n    //根据起终点坐标规划步行路线\\n    function gowalking(startPoint,endPoint){\\n        walking.search(startPoint, endPoint, function(status, result) {\\n            // result即是对应的步行路线数据信息，相关数据结构文档请参考  https://lbs.amap.com/api/javascript-api/reference/route-search#m_WalkingResult\\n            if (status === \\'complete\\') {\\n                console.log(\\'绘制步行路线完成\\')\\n            } else {\\n                console.log(\\'步行路线数据查询失败\\' + result)\\n            }\\n        });\\n\\t}\\n\\n\\t//通过信息窗体进入路线导航（默认步行）\\n\\n    //gowalking()\\n\\n\\n\\t//注：引入高德导航地图模块插件方法：\\n\\t//1-----key文件后增加&plugin=AMap.Walking\\n    //<script type=\"text/javascript\" src=\"https://webapi.amap.com/maps?v=1.4.14&key=c1668fff4493f18c93cf1fb054442b60&plugin=AMap.Walking\">\\n\\t//2-----页面启动相关服务\\n\\t/*\\n\\t\\tvar walking;\\n\\t\\tAMap.service([\"AMap.Walking\"], function() {\\n\\t\\t\\twalking = new AMap.Walking({\\n\\t\\t\\t\\tmap: map,\\n\\t\\t\\t\\tpanel: \"panel\"\\n\\t\\t\\t});\\n\\t\\t });\\n\\t\\t walking.search(startPoint, endPoint, function(status, result) {})\\n    */\\n\\n\\t//$(\".amap-logo,.amap-copyright\").css({\"display\":\"none\",\"visibility\":\"hidden\"});\\n<\\/script>\\n</body>\\n</html>\\n')])])])])}),[],!1,null,null,null);t.default=a.exports}}]);","extractedComments":[]}