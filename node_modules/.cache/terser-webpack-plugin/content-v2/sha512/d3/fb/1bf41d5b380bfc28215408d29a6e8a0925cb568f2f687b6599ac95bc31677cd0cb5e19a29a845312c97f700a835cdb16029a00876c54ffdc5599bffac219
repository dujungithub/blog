{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[60],{416:function(a,t,n){\"use strict\";n.r(t);var i=n(43),e=Object(i.a)({},(function(){var a=this,t=a.$createElement,n=a._self._c||t;return n(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":a.$parent.slotKey}},[n(\"p\",[a._v(\"技术点\")]),a._v(\" \"),n(\"p\",[a._v(\"1  Tesseract.js  识别长串期号\")]),a._v(\" \"),n(\"p\",[a._v(\"2  OCRAD.js  识别单个开奖号\")]),a._v(\" \"),n(\"p\",[a._v(\"3  file文件技术\")]),a._v(\" \"),n(\"p\",[a._v(\"4  canvas  裁切图片 canvas.getContext('2d').drawImage(img,0,0,w,h,0,0,imgW,imgH);\")]),a._v(\" \"),n(\"p\",[a._v(\"5  canvas  图片信息 canvas.toDataURL  得到图片src信息\")]),a._v(\" \"),n(\"p\",[a._v(\"6  canvas  像素点rgba值   imgData = canvas.getContext('2d').getImageDate(0,0,1,1);\")]),a._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",[n(\"code\",[a._v(\"   rgba(imgData.data[0],imgData.data[1],imgData.data[2],imgData.data[3]);\\n\")])])]),n(\"p\",[a._v(\"7  canvas  灰度化处理  getImageData   处理  context.putImageData(imgData, 0, 0);\")]),a._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",[n(\"code\",[a._v(\"\\t浮点算法  整数算法  移位算法  平均值算法   仅取绿色\\n\\n\\t    var imgData = context.getImageData(0, 0, imgArea.width, imgArea.height);\\n\\t    for (var i = 0; i < imgData.data.length; i += 4) {\\n\\t        var R = imgData.data[i]; //R(0-255)\\n\\t        var G = imgData.data[i + 1]; //G(0-255)\\n\\t        var B = imgData.data[i + 2]; //G(0-255)\\n\\t        var Alpha = imgData.data[i + 3]; //Alpha(0-255)\\n\\t        //浮点算法\\n\\t        var gray = R * 0.299 + G * 0.587 + B * 0.114;\\n\\t\\t//整数算法\\n    \\t\\t//var gray = (R*299 + G*587 + B*114 + 500) / 1000;　\\n   \\t\\t\\t//移位算法\\n    \\t\\t//var gray =(R*76+G*151+B*28)>>8;\\n    \\t\\t//平均值算法\\n    \\t\\t//var gray = (R+G+B)/3;\\n    \\t\\t//仅取绿色\\n    \\t\\t//var gray=G;\\n\\t        imgData.data[i] = gray;\\n\\t        imgData.data[i + 1] = gray;\\n\\t        imgData.data[i + 2] = gray;\\n\\t        imgData.data[i + 3] = Alpha;\\n\\t    }\\n\\t    context.putImageData(imgData, 0, 0);\\n\")])])]),n(\"p\",[a._v(\"8  canvas  二值化处理  getImageData   处理  context.putImageData(imgData, 0, 0);\")]),a._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",[n(\"code\",[a._v(\"    imgData = context.getImageData(0, 0, imgArea.width, imgArea.height);\\n        var index = 255/2;//阈值\\n        for (var i = 0; i < imgData.data.length; i += 4) {\\n            var R = imgData.data[i]; //R(0-255)\\n            var G = imgData.data[i + 1]; //G(0-255)\\n            var B = imgData.data[i + 2]; //B(0-255)\\n            var Alpha = imgData.data[i + 3]; //Alpha(0-255)\\n            var sum = (R + G + B) / 3;\\n            if (sum > index) {\\n                imgData.data[i] = 255;\\n                imgData.data[i + 1] = 255;\\n                imgData.data[i + 2] = 255;\\n                imgData.data[i + 3] = Alpha;\\n            } else {\\n                imgData.data[i] = 0;\\n                imgData.data[i + 1] = 0;\\n                imgData.data[i + 2] = 0;\\n                imgData.data[i + 3] = Alpha;\\n            }\\n        }\\n        context.putImageData(imgData, 0, 0);\\n\")])])]),n(\"p\",[a._v(\"9  过滤 得到重复最多的值，及重复总和\\nfunction filterNum(arr){\\nvar maxCount = 0,\\nmaxItem = '',\\nobj = {}\\narr.forEach(function(item){\\nif(item != \\\"\\\" && !/[a-z]/i.test(item) && !/[-]/i.test(item)){\\nobj[item] ? (obj[item].count += 1) : obj[item] = {count: 1}\\nobj[item].count > maxCount && (maxCount = obj[item].count, maxItem = item)\\n}\")]),a._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",[n(\"code\",[a._v(\"\\t    })\\n\\t    return {item:maxItem,count:maxCount}\\n\\t}\\n\")])])]),n(\"p\",[a._v('10 接近值-乱码正则替换 item = item.replace(/[lLiIT]/i,\"1\");   和数字1相同的，替换为1，和大S小s替换为5')]),a._v(\" \"),n(\"p\",[a._v('11 非空 非字母 非-     item != \"\" && !/[a-z]/i.test(item) && !/[-]/i.test(item))   正则表达式')]),a._v(\" \"),n(\"p\",[a._v(\"12 资源文件循环读取，需有序，采用bat方式进行批处理重命名\\nrename.bat\")]),a._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",[n(\"code\",[a._v(\"@echo off\\nsetlocal enabledelayedexpansion\\nset count=0\\nfor /f %%i in ('dir /b *.jpg') do (\\n\\t\\tset /a count+=1\\n\\t\\techo 改名：%%i !count!\\n\\t\\trename %%i !count!.jpg\\n)\\n\")])])]),n(\"p\",[a._v(\"100  输出结果展示\")]),a._v(\" \"),n(\"p\",[a._v(\"0: (4) [11190126100, 4, 5, 6]\\n1: (4) [11190126101, 3, 3, 5]\\n2: (4) [11190126102, 2, 5, 5]\\n3: (4) [11190126103, 2, 3, 5]\\n4: (4) [11190126104, 1, 3, 5]\\n5: (4) [11190126105, 1, 3, 4]\\n6: (4) [11190126106, 2, 3, 5]\\n7: (4) [11190126107, 2, 3, 6]\\n8: (4) [11190126108, 2, 6, 6]\\n9: (4) [11190126109, 1, 3, 6]\\n10: (4) [11190126110, 1, 3, 6]\\n11: (4) [11190126111, 1, 1, 5]\\n12: (4) [11190126112, 1, 5, 6]\\n13: (4) [11190126113, 3, 5, 5]\\n14: (4) [11190126114, 1, 3, 4]\\n15: (4) [11190126117, 2, 4, 6]\\n16: (4) [11190126118, 3, 6, 6]\\n17: (4) [11190126119, 2, 2, 6]\\n18: (4) [11190126120, 2, 4, 6]\\n19: (4) [11190126121, 1, 2, 6]\\n20: (4) [11190126122, 1, 1, 2]\\n21: (4) [11190126123, 1, 6, 6]\\n22: (4) [11190126124, 2, 3, 3]\\n23: (4) [11190126125, 3, 5, 5]\\n24: (4) [11190126126, 1, 1, 2]\\n25: (4) [11190126127, 1, 4, 6]\\n26: (4) [11190126128, 1, 5, 6]\\n27: (4) [11190126129, 3, 4, 6]\")])])}),[],!1,null,null,null);t.default=e.exports}}]);","extractedComments":[]}